webpackJsonp([1],{"+1Ip":function(e,t){},0:function(e,t,o){o("briU"),e.exports=o("NHnr")},"8J0x":function(e,t,o){"use strict";(function(e){var a=o("KvKp"),s=o("QPoP"),i=o("TDjT");o("MWXe");t.a={data:function(){return{scene:null,camera:null,raycaster:null,renderer:null,controls:null,tween:null,door:null,keyboard:null,clock:null,SCREEN_WIDTH:null,SCREEN_HEIGHT:null,VIEW_ANGLE:45,ASPECT:null,NEAR:1,FAR:5e3,materialArrayA:[],materialArrayB:[],matArrayA:[],matArrayB:[],dummy:null,dummy2:null,house:null,door_state:!0,state:null,cars:[],mouse:null,INTERSECTED:null,dialogFormVisible:!1,dialogFormVisible2:!1,dialogFormVisibleThree:!1,dialogtitle:"楼栋信息",expandedBtn:!1,messageHouseId:0,planeGeometry:null,smokeState:!0,messageHouseNum:null,messageSmokeNum:null,messageGuardNum:null,messageDeviceNo:"",messagePeopleNum:null,messagePeoplegateNum:null,messageDdcgateNum:null,messageClgateNum:null,messageDzwlgateNum:null}},mounted:function(){this.planeGeometry=new THREE.PlaneGeometry(60,40,1,1),this.scene=new THREE.Scene,this.SCREEN_WIDTH=window.innerWidth,this.SCREEN_HEIGHT=window.innerHeight,this.ASPECT=this.SCREEN_WIDTH/this.SCREEN_HEIGHT,this.dummy=new THREE.Object3D,this.dummy2=new THREE.Object3D,this.house=new THREE.Object3D,this.clock=new THREE.Clock,this.keyboard=new THREEx.KeyboardState,this.raycaster=new THREE.Raycaster,this.mouse=new THREE.Vector2,this.init(),this.animate(),this.open2()},created:function(){document.addEventListener("click",this.ray2,!1)},computed:{count:function(){return this.$store.state.count}},methods:{checkUserAgent:function(){var e=navigator.userAgent;(e.match(/Android/i)||e.match(/webOS/i)||e.match(/iPhone/i)||e.match(/iPad/i)||e.match(/iPod/i)||e.match(/BlackBerry/i))&&(this.config.isMobile=!0,this.camera.position.set(420,420,420),this.renderer.shadowMap.enabled=!1)},open2:function(){this.$notify({title:"友情提示:",message:"遇到问题向阿锦反馈843100406@qq.com",position:"bottom-right",duration:0})},beforeClose:function(e){e()},beforeClose2:function(e){e()},onMouseDblclick:function(e){var t=this.getIntersects(e);if(0!=t.length&&t[0].object instanceof THREE.Mesh){var o=t[0].object;this.changeMaterial(o)}},getIntersects:function(e){return e.preventDefault(),this.mouse.x=e.clientX/window.innerWidth*2-1,this.mouse.y=-e.clientY/window.innerHeight*2+1,this.raycaster.setFromCamera(this.mouse,this.camera),this.raycaster.intersectObjects(this.scene.children)},changeMaterial:function(e){var t=new THREE.MeshLambertMaterial({color:5811450,transparent:!e.material.transparent});e.material=t},ray:function(e){var t=e.clientX,o=e.clientY,a=t/window.innerWidth*2-1,s=-o/window.innerHeight*2+1,i=new THREE.Vector3(a,s,.5).unproject(this.camera).sub(this.camera.position).normalize(),u=new THREE.Raycaster(this.camera.position,i),r=this.scene.children,n=u.intersectObjects(r);if(n.length>0){n[0].object.ID;n[0].object.name.indexOf("text")>=0&&(alert(1),this.handleCreateSp2())}},ray2:function(e){var t=e.clientX,o=e.clientY,a=t/window.innerWidth*2-1,s=-o/window.innerHeight*2+1,i=new THREE.Vector3(a,s,.5).unproject(this.camera).sub(this.camera.position).normalize(),u=new THREE.Raycaster(this.camera.position,i),r=this.scene.children,n=u.intersectObjects(r);if(n.length>0){n[0].object.ID;var l=n[0].object.name;l.indexOf("sxt")>=0&&this.handleCreateSp(),l.indexOf("hdzx")>=0&&alert("活动中心"),l.indexOf("service")>=0&&alert("群众服务楼")}},handleCreateSp:function(){this.dialogFormVisible=!0},handleCreateSp2:function(){this.dialogFormVisible2=!0},showInformation:function(t,o){console.dir(t),e("#close").unbind().bind("click",function(){e("#message").css({display:"none"})}),e("#message").css({display:"block",position:"fixed",left:o.clientX,top:o.clientY})},initScene:function(){this.scene=new THREE.Scene},initCamera:function(){this.camera=new THREE.PerspectiveCamera(this.VIEW_ANGLE,this.ASPECT,this.NEAR,this.FAR),this.camera.position.set(0,400,1900),this.camera.lookAt(this.scene.position),this.camera.lookAt(0,0,0),this.scene.add(this.camera)},initRender:function(){Detector.webgl?this.renderer=new THREE.WebGLRenderer({antialias:!0,alpha:!0}):this.renderer=new THREE.CanvasRenderer,this.renderer.setPixelRatio(window.devicePixelRatio),this.renderer.setSize(this.SCREEN_WIDTH,this.SCREEN_HEIGHT),this.renderer.shadowMap.enabled=!0,this.renderer.shadowMapSoft=!0,this.renderer.shadowMap.type=THREE.PCFSoftShadowMap,this.container=document.getElementById("container"),this.container.appendChild(this.renderer.domElement),this.renderer.setClearColor(5416,0)},initEvent:function(){THREEx.WindowResize(this.renderer,this.camera),THREEx.FullScreen.bindKey({charCode:"m".charCodeAt(0)})},initControls:function(){this.controls=new THREE.OrbitControls(this.camera,this.renderer.domElement),this.controls.enableKeys=!1,this.controls.minPolarAngle=0,this.controls.maxPolarAngle=.45*Math.PI,this.controls.enablePan=!0,this.controls.keyPanSpeed=7,this.controls.minDistance=200,this.controls.maxDistance=3e3},initLight:function(){var e=new THREE.HemisphereLight(16777215,1);this.scene.add(e);var t=new THREE.AmbientLight(16777215,.15);this.scene.add(t)},createFloor:function(){var e=this;(new THREE.TextureLoader).load("static/images/lxcMap.jpg",function(t){t.wrapS=t.wrapT=THREE.RepeatWrapping,t.repeat.set(1,1);var o=new THREE.BoxGeometry(2e3,1650,10),a=new THREE.MeshBasicMaterial({map:t,side:THREE.DoubleSide}),s=new THREE.Mesh(o,a);s.material.color.set(3771094),s.position.y=-.5,s.rotation.x=Math.PI/2,s.position.y=-200,s.name="floor",e.dummy.add(s),e.scene.add(e.dummy)})},createFloor2:function(){var e=this;(new THREE.TextureLoader).load("static/images/floor2.jpg",function(t){t.wrapS=t.wrapT=THREE.RepeatWrapping,t.repeat.set(20,20);var o=new THREE.BoxGeometry(4e3,3650,2),a=new THREE.MeshBasicMaterial({map:t,side:THREE.DoubleSide}),s=new THREE.Mesh(o,a);s.position.y=-.5,s.rotation.x=Math.PI/2,s.position.y=-210,s.name="floor2",e.dummy.add(s),e.scene.add(e.dummy)})},createFloor3:function(){var e=this;(new THREE.TextureLoader).load("static/images/floor2.jpg",function(t){t.wrapS=t.wrapT=THREE.RepeatWrapping,t.repeat.set(20,20);var o=new THREE.BoxGeometry(2e3,1650,10),a=new THREE.MeshBasicMaterial({map:t,side:THREE.DoubleSide}),s=new THREE.Mesh(o,a);s.material.color.set(351663),s.position.y=-.5,s.rotation.x=Math.PI/2,s.position.y=-600,s.name="floor",e.dummy.add(s),e.scene.add(e.dummy)})},createResultBsp:function(e,t,o,a){var s=void 0;switch(a){case 1:s=new THREE.MeshPhongMaterial({color:10269393,specular:10269393,shininess:30,transparent:!0,opacity:1});break;case 2:s=new THREE.MeshPhongMaterial({color:11518154,specular:11518154,shininess:30,transparent:!0,opacity:1})}var i=new ThreeBSP(t),u=new ThreeBSP(o),r=i.subtract(u).toMesh(s);r.material.flatshading=THREE.FlatShading,r.geometry.computeFaceNormals(),r.geometry.computeVertexNormals(),r.material.needsUpdate=!0,r.geometry.buffersNeedUpdate=!0,r.geometry.uvsNeedUpdate=!0,r.name=e,this.scene.add(r)},createResultBspAdd:function(e,t,o,a,s,i){var u=void 0;switch(s){case 1:u=new THREE.MeshPhongMaterial({color:492464,specular:10269393,shininess:30,transparent:!0,opacity:1});break;case 2:u=new THREE.MeshPhongMaterial({color:10269393,specular:11518154,shininess:30,transparent:!0,opacity:1})}var r=new ThreeBSP(o),n=new ThreeBSP(a),l=r.union(n).toMesh(u);l.material.flatshading=THREE.FlatShading,l.geometry.computeFaceNormals(),l.geometry.computeVertexNormals(),l.material.needsUpdate=!0,l.geometry.buffersNeedUpdate=!0,l.geometry.uvsNeedUpdate=!0,l.rotation.y+=i*Math.PI,l.ID=e,l.name=t,this.scene.add(l)},cyResultBspAdd:function(e,t,o,a,s){var i=void 0;switch(a){case 1:i=new THREE.MeshPhongMaterial({color:12317743,transparent:!0,opacity:.95});break;case 2:i=new THREE.MeshPhongMaterial({color:10269393,specular:11518154,shininess:30,transparent:!0,opacity:1})}var u=new ThreeBSP(t),r=new ThreeBSP(o),n=u.union(r).toMesh(i);n.material.flatshading=THREE.FlatShading,n.geometry.computeFaceNormals(),n.geometry.computeVertexNormals(),n.material.needsUpdate=!0,n.geometry.buffersNeedUpdate=!0,n.geometry.uvsNeedUpdate=!0,n.rotation.y+=s*Math.PI,n.name=e,this.scene.add(n)},createResultBspReturn:function(e,t,o){var a=void 0;switch(o){case 1:a=new THREE.MeshPhongMaterial({color:10269393,specular:10269393,shininess:30,transparent:!0,opacity:1});break;case 2:a=new THREE.MeshPhongMaterial({color:11518154,specular:11518154,shininess:30,transparent:!0,opacity:1})}var s=new ThreeBSP(e),i=new ThreeBSP(t),u=s.union(i).toMesh(a);return u.material.flatshading=THREE.FlatShading,u.geometry.computeFaceNormals(),u.geometry.computeVertexNormals(),u.material.needsUpdate=!0,u.geometry.buffersNeedUpdate=!0,u.geometry.uvsNeedUpdate=!0,u},createCubeWall:function(e,t,o,a,s,i,u,r,n){var l=new THREE.BoxGeometry(t,o,a),h=new THREE.Mesh(l,i);h.position.x=u,h.position.y=r,h.position.z=n,h.rotation.y+=s*Math.PI,h.name=e,this.scene.add(h)},createHouseWall:function(e,t,o,a,s,i,u,r,n){var l=new THREE.BoxGeometry(o,a,s),h=new THREE.MeshPhongMaterial({color:492464,specular:10269393,shininess:30,transparent:!0,opacity:1}),c=new THREE.Mesh(l,h);c.position.x=u,c.position.y=r,c.position.z=n,c.rotation.y+=i*Math.PI,c.ID=e,c.name=t,this.scene.add(c)},createHouseWallfloor:function(e,t,o,a,s,i,u,r,n){var l=new THREE.BoxGeometry(o,a,s),h=new THREE.MeshPhongMaterial({color:7368816,specular:10269393,shininess:30,transparent:!0,opacity:1}),c=new THREE.Mesh(l,h);c.position.x=u,c.position.y=r,c.position.z=n,c.rotation.y+=i*Math.PI,c.ID=e,c.name=t,this.scene.add(c)},createOutHouseWall:function(e,t,o,a,s,i,u,r){var n=new THREE.BoxGeometry(t,o,a),l=new THREE.MeshPhongMaterial({color:7958156,specular:10269393,shininess:30,transparent:!0,opacity:.8}),h=new THREE.Mesh(n,l);h.position.x=i,h.position.y=u,h.position.z=r,h.rotation.y+=s*Math.PI,h.name=e,this.scene.add(h)},createGroupobj:function(e,t,o,a,s,i,u,r){var n=new THREE.BoxGeometry(t,o,a),l=new THREE.MeshBasicMaterial({color:16777215*Math.random(),opacity:.5}),h=new THREE.Mesh(n,l);h.position.x=i,h.position.y=u,h.position.z=r,h.rotation.y+=s*Math.PI,h.name=e,this.house.add(h)},objGroup123:function(){this.scene.add(this.house)},returnWallObject:function(e,t,o,a,s,i,u,r){var n=new THREE.BoxGeometry(e,t,o),l=new THREE.Mesh(n,s);return l.position.x=i,l.position.y=u,l.position.z=r,l.rotation.y+=a*Math.PI,l},returnCy:function(e,t,o,a,s,i,u,r,n){var l=new THREE.CylinderGeometry(e,t,o),h=new THREE.Mesh(l,i);return h.position.x=u,h.position.y=r,h.position.z=n,h},returnCy2:function(e,t,o,a,s,i,u,r){var n=new THREE.CylinderGeometry(e,t,o,a,s),l=new THREE.MeshPhongMaterial({color:11518154}),h=new THREE.Mesh(n,l);return h.position.x=i,h.position.y=u,h.position.z=r,h},returnSphere:function(e,t,o,a,s,i){var u=new THREE.SphereGeometry(e,t,o),r=new THREE.MeshPhongMaterial({color:11518154}),n=new THREE.Mesh(u,r);return n.position.x=a,n.position.y=s,n.position.z=i,n},createCy:function(e,t,o,a,s,i,u,r,n){var l=new THREE.CylinderGeometry(t,o,a,s,i),h=new THREE.MeshPhongMaterial({color:11518154}),c=new THREE.Mesh(l,h);c.position.x=u,c.position.y=r,c.position.z=n,c.name=e,this.scene.add(c)},createSphere:function(e,t,o,a,s,i,u){var r=new THREE.SphereGeometry(t,o,a),n=new THREE.MeshPhongMaterial({color:11518154}),l=new THREE.Mesh(r,n);l.position.x=s,l.position.y=i,l.position.z=u,l.name=e,this.scene.add(l)},createWallMaterail:function(){this.matArrayA.push(new THREE.MeshPhongMaterial({color:11518154})),this.matArrayA.push(new THREE.MeshPhongMaterial({color:11518154})),this.matArrayA.push(new THREE.MeshPhongMaterial({color:14083308})),this.matArrayA.push(new THREE.MeshPhongMaterial({color:14083308})),this.matArrayA.push(new THREE.MeshPhongMaterial({color:11518154})),this.matArrayA.push(new THREE.MeshPhongMaterial({color:11518154})),this.matArrayB.push(new THREE.MeshPhongMaterial({color:11518154})),this.matArrayB.push(new THREE.MeshPhongMaterial({color:11518154})),this.matArrayB.push(new THREE.MeshPhongMaterial({color:14083308})),this.matArrayB.push(new THREE.MeshPhongMaterial({color:11518154})),this.matArrayB.push(new THREE.MeshPhongMaterial({color:11518154})),this.matArrayB.push(new THREE.MeshPhongMaterial({color:11518154}))},createLayout:function(){this.createHouseWall(1,"qt0-1",400,180,60,0,150,-100,400),this.createHouseWallfloor(2,"floor",4e3,2,3650,0,0,-212,0),this.createOutHouseWall("outLeftHouse1",60,200,100,0,-1050,-100,825),this.createOutHouseWall("outLeftHouse3",40,100,100,0,-1050,-150,425),this.createOutHouseWall("outLeftHouse5",40,200,100,0,-1050,-100,25),this.createOutHouseWall("outLeftHouse7",50,260,100,0,-1050,-70,-425),this.createOutHouseWall("outLeftHouse9",60,200,200,0,-1050,-100,-850),this.createOutHouseWall("outLeftHouse11",100,180,150,0,-1150,-110,625),this.createOutHouseWall("outLeftHouse13",80,80,80,0,-1150,-160,225),this.createOutHouseWall("outLeftHouse15",80,200,100,0,-1150,-100,-225),this.createOutHouseWall("outLeftHouse17",60,200,200,0,-1150,-100,-625),this.createOutHouseWall("outLeftHouse18",60,200,200,0,-1150,-100,-850),this.createOutHouseWall("outLeftHouse19",60,200,100,0,-1350,-100,825),this.createOutHouseWall("outLeftHouse20",70,180,100,0,-1350,-110,625),this.createOutHouseWall("outLeftHouse22",60,60,300,0,-1350,-170,225),this.createOutHouseWall("outLeftHouse23",60,200,100,0,-1350,-100,25),this.createOutHouseWall("outLeftHouse24",50,200,100,0,-1350,-100,-225),this.createOutHouseWall("outLeftHouse26",60,200,200,0,-1350,-100,-625),this.createOutHouseWall("outLeftHouse27",60,200,200,0,-1350,-100,-850),this.createOutHouseWall("outLeftHouse28",40,200,100,0,-1450,-100,825),this.createOutHouseWall("outLeftHouse30",40,100,200,0,-1450,-150,425),this.createOutHouseWall("outLeftHouse31",90,80,200,0,-1450,-160,225),this.createOutHouseWall("outLeftHouse32",40,200,100,0,-1450,-100,25),this.createOutHouseWall("outLeftHouse35",60,200,200,0,-1450,-100,-625),this.createOutHouseWall("outLeftHouse36",60,200,200,0,-1450,-100,-850),this.createOutHouseWall("outLeftHouse37",100,200,100,0,-1550,-100,825),this.createOutHouseWall("outLeftHouse38",40,180,80,0,-1550,-110,625),this.createOutHouseWall("outLeftHouse40",60,80,100,0,-1550,-160,225),this.createOutHouseWall("outLeftHouse41",40,200,100,0,-1550,-100,25),this.createOutHouseWall("outLeftHouse43",50,260,100,0,-1550,-70,-425),this.createOutHouseWall("outLeftHouse44",80,200,200,0,-1550,-100,-625),this.createOutHouseWall("outLeftHouse45",80,200,200,0,-1550,-100,-850),this.createOutHouseWall("outLeftHouse6",40,200,100,0,-1650,-100,825),this.createOutHouseWall("outLeftHouse47",100,100,100,0,-1650,-150,425),this.createOutHouseWall("outLeftHouse49",60,100,100,0,-1650,-150,225),this.createOutHouseWall("outLeftHouse51",100,200,100,0,-1650,-100,-225),this.createOutHouseWall("outLeftHouse53",60,200,100,0,-1650,-100,-625),this.createOutHouseWall("outLeftHouse54",60,100,100,0,-1650,-150,-850),this.createOutHouseWall("outLeftHouse55",80,200,100,0,-1800,-100,825),this.createOutHouseWall("outLeftHouse56",80,180,100,0,-1800,-110,625),this.createOutHouseWall("outLeftHouse57",80,100,100,0,-1800,-150,425),this.createOutHouseWall("outLeftHouse58",80,100,100,0,-1800,-150,225),this.createOutHouseWall("outLeftHouse60",50,200,100,0,-1800,-100,-225),this.createOutHouseWall("outLeftHouse61",50,260,100,0,-1800,-70,-425),this.createOutHouseWall("outLeftHouse63",60,100,80,0,-1800,-150,-850),this.createOutHouseWall("outLeftHouse64",90,200,100,0,-1900,-100,825),this.createOutHouseWall("outLeftHouse65",60,180,100,0,-1900,-110,625),this.createOutHouseWall("outLeftHouse67",60,100,100,0,-1900,-150,225),this.createOutHouseWall("outLeftHouse68",40,200,100,0,-1900,-100,25),this.createOutHouseWall("outLeftHouse70",50,260,100,0,-1900,-70,-425),this.createOutHouseWall("outLeftHouse71",60,200,200,0,-1900,-100,-625),this.createOutHouseWall("outLeftHouse72",60,200,200,0,-1900,-100,-850),this.createOutHouseWall("outLeftHouse73",60,200,100,0,-1150,-100,425),this.createOutHouseWall("outLeftHouse74",60,200,100,0,-1150,-100,425),this.createOutHouseWall("outRightHouse1",80,200,150,0,1050,-100,825),this.createOutHouseWall("outRightHouse2",40,180,100,0,1050,-110,625),this.createOutHouseWall("outRightHouse3",40,100,200,0,1050,-150,425),this.createOutHouseWall("outRightHouse5",40,200,200,0,1050,-100,25),this.createOutHouseWall("outRightHouse6",100,200,100,0,1050,-100,-225),this.createOutHouseWall("outRightHouse7",50,260,100,0,1050,-70,-425),this.createOutHouseWall("outRightHouse9",60,200,200,0,1050,-100,-850),this.createOutHouseWall("outRightHouse10",40,200,100,0,1150,-100,825),this.createOutHouseWall("outRightHouse11",40,180,100,0,1150,-110,625),this.createOutHouseWall("outRightHouse12",40,100,100,0,1150,-150,425),this.createOutHouseWall("outRightHouse14",40,200,80,0,1150,-100,25),this.createOutHouseWall("outRightHouse15",50,60,80,0,1150,-170,-225),this.createOutHouseWall("outRightHouse17",60,200,200,0,1150,-100,-625),this.createOutHouseWall("outRightHouse18",60,200,200,0,1150,-100,-850),this.createOutHouseWall("outRightHouse19",60,200,180,0,1350,-100,825),this.createOutHouseWall("outRightHouse21",60,100,180,0,1350,-150,425),this.createOutHouseWall("outRightHouse22",60,80,180,0,1350,-160,225),this.createOutHouseWall("outRightHouse24",50,200,150,0,1350,-100,-225),this.createOutHouseWall("outRightHouse25",30,260,100,0,1350,-70,-425),this.createOutHouseWall("outRightHouse26",60,200,80,0,1350,-100,-625),this.createOutHouseWall("outRightHouse27",60,200,200,0,1350,-100,-850),this.createOutHouseWall("outRightHouse28",40,200,150,0,1450,-100,825),this.createOutHouseWall("outRightHouse30",40,100,100,0,1450,-150,425),this.createOutHouseWall("outRightHouse32",40,200,100,0,1450,-100,25),this.createOutHouseWall("outRightHouse33",50,200,100,0,1450,-100,-225),this.createOutHouseWall("outRightHouse35",60,200,200,0,1450,-100,-625),this.createOutHouseWall("outRightHouse36",60,200,300,0,1450,-100,-850),this.createOutHouseWall("outRightHouse38",100,180,150,0,1550,-110,625),this.createOutHouseWall("outRightHouse39",40,100,100,0,1550,-150,425),this.createOutHouseWall("outRightHouse40",60,80,100,0,1550,-160,225),this.createOutHouseWall("outRightHouse41",40,200,100,0,1550,-100,25),this.createOutHouseWall("outRightHouse42",60,220,100,0,1550,-90,-225),this.createOutHouseWall("outRightHouse44",60,200,200,0,1550,-100,-625),this.createOutHouseWall("outRightHouse46",40,200,100,0,1650,-100,825),this.createOutHouseWall("outRightHouse47",40,180,100,0,1650,-110,625),this.createOutHouseWall("outRightHouse49",60,80,100,0,1650,-160,225),this.createOutHouseWall("outRightHouse51",50,200,100,0,1650,-100,-225),this.createOutHouseWall("outRightHouse52",100,260,120,0,1650,-70,-425),this.createOutHouseWall("outRightHouse53",60,80,200,0,1650,-160,-625),this.createOutHouseWall("outRightHouse54",60,220,200,0,1650,-90,-850),this.createOutHouseWall("outRightHouse55",40,200,100,0,1800,-100,825),this.createOutHouseWall("outRightHouse56",80,180,100,0,1800,-110,625),this.createOutHouseWall("outRightHouse58",60,80,100,0,1800,-160,225),this.createOutHouseWall("outRightHouse59",40,100,120,0,1800,-150,25),this.createOutHouseWall("outRightHouse60",100,200,100,0,1800,-100,-225),this.createOutHouseWall("outRightHouse62",60,200,200,0,1800,-100,-625),this.createOutHouseWall("outRightHouse63",60,200,200,0,1800,-100,-850),this.createOutHouseWall("outRightHouse64",40,200,100,0,1900,-100,825),this.createOutHouseWall("outRightHouse65",40,180,100,0,1900,-110,625),this.createOutHouseWall("outRightHouse66",100,100,100,0,1900,-150,425),this.createOutHouseWall("outRightHouse68",100,200,100,0,1900,-100,25),this.createOutHouseWall("outRightHouse69",50,200,100,0,1900,-100,-225),this.createOutHouseWall("outRightHouse70",100,260,120,0,1900,-70,-425),this.createOutHouseWall("outRightHouse71",60,200,200,0,1900,-100,-625),this.createOutHouseWall("outRightHouse72",100,200,200,0,1900,-100,-850),this.createOutHouseWall("outBakHouse2",160,100,40,0,-450,-150,-1e3),this.createOutHouseWall("outBakHouse3",200,100,80,0,-350,-150,-1e3),this.createOutHouseWall("outBakHouse4",200,200,80,0,0,-100,-1e3),this.createOutHouseWall("outBakHouse5",100,100,80,0,0,-150,-900),this.createOutHouseWall("outBakHouse7",100,200,60,0,-1600,-100,-1100),this.createOutHouseWall("outBakHouse8",100,200,40,0,-1400,-100,-1100),this.createOutHouseWall("outBakHouse10",100,200,60,0,-1e3,-100,-1100),this.createOutHouseWall("outBakHouse11",100,200,60,0,-800,-100,-1100),this.createOutHouseWall("outBakHouse12",100,100,80,0,-600,-150,-1100),this.createOutHouseWall("outBakHouse13",100,200,80,0,-400,-100,-1100),this.createOutHouseWall("outBakHouse15",100,200,40,0,-100,-100,-1100),this.createOutHouseWall("outBakHouse16",200,200,100,0,0,-100,-1100),this.createOutHouseWall("outBakHouse17",100,200,40,0,200,-100,-1100),this.createOutHouseWall("outBakHouse19",100,300,40,0,600,-50,-1100),this.createOutHouseWall("outBakHouse20",100,200,40,0,800,-100,-1100),this.createOutHouseWall("outBakHouse22",100,200,40,0,1200,-100,-1100),this.createOutHouseWall("outBakHouse23",100,200,40,0,1400,-100,-1100),this.createOutHouseWall("outBakHouse25",100,200,40,0,1800,-100,-1100),this.createOutHouseWall("outBakHouse26",100,100,80,0,-1800,-150,-1200),this.createOutHouseWall("outBakHouse27",100,200,40,0,-1600,-100,-1200),this.createOutHouseWall("outBakHouse28",100,100,60,0,-1400,-150,-1200),this.createOutHouseWall("outBakHouse29",100,200,60,0,-1200,-100,-1200),this.createOutHouseWall("outBakHouse30",100,80,60,0,-1e3,-160,-1200),this.createOutHouseWall("outBakHouse32",100,200,80,0,-600,-100,-1200),this.createOutHouseWall("outBakHouse33",100,200,30,0,-400,-100,-1200),this.createOutHouseWall("outBakHouse35",100,60,100,0,-100,-170,-1200),this.createOutHouseWall("outBakHouse36",100,200,80,0,0,-100,-1200),this.createOutHouseWall("outBakHouse37",100,200,80,0,400,-100,-1200),this.createOutHouseWall("outBakHouse38",100,200,60,0,600,-100,-1200),this.createOutHouseWall("outBakHouse39",100,200,40,0,800,-100,-1200),this.createOutHouseWall("outBakHouse41",100,200,40,0,1200,-100,-1200),this.createOutHouseWall("outBakHouse42",100,200,60,0,1400,-100,-1200),this.createOutHouseWall("outBakHouse43",100,200,40,0,1600,-100,-1200),this.createOutHouseWall("outBakHouse44",100,200,40,0,1800,-100,-1200),this.createOutHouseWall("outBakHouse45",100,100,60,0,-1800,-150,-1300),this.createOutHouseWall("outBakHouse46",100,200,80,0,-1600,-100,-1300),this.createOutHouseWall("outBakHouse48",100,200,40,0,-1200,-100,-1300),this.createOutHouseWall("outBakHouse49",100,80,40,0,-1e3,-160,-1300),this.createOutHouseWall("outBakHouse50",100,200,80,0,-800,-100,-1300),this.createOutHouseWall("outBakHouse52",100,200,80,0,-400,-100,-1300),this.createOutHouseWall("outBakHouse53",100,60,40,0,-200,-170,-1300),this.createOutHouseWall("outBakHouse54",200,200,40,0,-100,-100,-1300),this.createOutHouseWall("outBakHouse56",100,60,50,0,400,-170,-1300),this.createOutHouseWall("outBakHouse57",100,100,40,0,600,-150,-1300),this.createOutHouseWall("outBakHouse58",100,200,60,0,800,-100,-1300),this.createOutHouseWall("outBakHouse59",100,300,40,0,1e3,-50,-1300),this.createOutHouseWall("outBakHouse61",100,200,70,0,1400,-100,-1300),this.createOutHouseWall("outBakHouse62",100,260,40,0,1600,-70,-1300),this.createOutHouseWall("outBakHouse63",100,200,40,0,1800,-100,-1300),this.createOutHouseWall("outBakHouse64",100,100,80,0,-1800,-150,-1500),this.createOutHouseWall("outBakHouse65",120,200,40,0,-1600,-100,-1500),this.createOutHouseWall("outBakHouse66",100,200,60,0,-1400,-100,-1500),this.createOutHouseWall("outBakHouse67",100,200,40,0,-1200,-100,-1500),this.createOutHouseWall("outBakHouse69",100,200,40,0,-800,-100,-1500),this.createOutHouseWall("outBakHouse70",100,60,40,0,-600,-170,-1500),this.createOutHouseWall("outBakHouse71",80,200,70,0,-400,-100,-1500),this.createOutHouseWall("outBakHouse72",100,80,40,0,-200,-160,-1500),this.createOutHouseWall("outBakHouse73",100,200,40,0,-100,-100,-1500),this.createOutHouseWall("outBakHouse75",100,240,40,0,400,-80,-1500),this.createOutHouseWall("outBakHouse76",100,200,40,0,600,-100,-1500),this.createOutHouseWall("outBakHouse78",100,200,40,0,1e3,-100,-1500),this.createOutHouseWall("outBakHouse79",100,200,40,0,1200,-100,-1500),this.createOutHouseWall("outBakHouse80",80,200,50,0,1400,-100,-1500),this.createOutHouseWall("outBakHouse81",100,200,40,0,1600,-100,-1500),this.createOutHouseWall("outBakHouse82",100,200,40,0,1800,-100,-1500),this.createOutHouseWall("outBakHouse83",120,100,40,0,-1800,-150,-1600),this.createOutHouseWall("outBakHouse84",100,200,40,0,-1600,-100,-1600),this.createOutHouseWall("outBakHouse85",110,100,60,0,-1400,-150,-1600),this.createOutHouseWall("outBakHouse87",110,300,60,0,-1e3,-50,-1600),this.createOutHouseWall("outBakHouse88",110,300,40,0,-800,-50,-1600),this.createOutHouseWall("outBakHouse89",110,200,50,0,-600,-100,-1600),this.createOutHouseWall("outBakHouse90",100,200,40,0,-400,-100,-1600),this.createOutHouseWall("outBakHouse91",100,300,40,0,-200,-50,-1600),this.createOutHouseWall("outBakHouse93",100,200,40,0,0,-100,-1600),this.createOutHouseWall("outBakHouse94",100,200,40,0,400,-100,-1600),this.createOutHouseWall("outBakHouse95",100,200,60,0,600,-100,-1600),this.createOutHouseWall("outBakHouse96",100,200,40,0,800,-100,-1600),this.createOutHouseWall("outBakHouse97",100,200,60,0,1200,-100,-1600),this.createOutHouseWall("outBakHouse98",120,200,40,0,1400,-100,-1600),this.createOutHouseWall("outBakHouse99",100,200,40,0,1600,-100,-1600),this.createOutHouseWall("outBakHouse100",100,200,40,0,1800,-100,-1600),this.createOutHouseWall("outBakHouse101",100,100,40,0,-1800,-150,-1750),this.createOutHouseWall("outBakHouse102",100,200,40,0,-1600,-100,-1750),this.createOutHouseWall("outBakHouse104",100,200,40,0,-1200,-100,-1750),this.createOutHouseWall("outBakHouse105",100,80,60,0,-1e3,-160,-1750),this.createOutHouseWall("outBakHouse106",150,200,40,0,-800,-100,-1750),this.createOutHouseWall("outBakHouse107",100,200,60,0,-600,-100,-1750),this.createOutHouseWall("outBakHouse109",120,100,60,0,-200,-150,-1750),this.createOutHouseWall("outBakHouse110",100,100,40,0,-100,-150,-1750),this.createOutHouseWall("outBakHouse111",100,200,40,0,0,-100,-1750),this.createOutHouseWall("outBakHouse113",100,200,40,0,600,-100,-1750),this.createOutHouseWall("outBakHouse114",100,60,60,0,800,-170,-1750),this.createOutHouseWall("outBakHouse115",100,100,40,0,1e3,-150,-1750),this.createOutHouseWall("outBakHouse116",100,200,80,0,1200,-100,-1750),this.createOutHouseWall("outBakHouse117",100,300,40,0,1400,-50,-1750),this.createOutHouseWall("outBakHouse118",100,200,40,0,1600,-100,-1750),this.createOutHouseWall("outBakHouse119",100,80,100,0,1800,-160,-1750),this.createOutHouseWall("outBeforeHouse1",250,100,80,0,-700,-150,1e3),this.createOutHouseWall("outBeforeHouse2",160,100,80,0,-450,-150,1e3),this.createOutHouseWall("outBeforeHouse3",200,100,80,0,-350,-150,1e3),this.createOutHouseWall("outBeforeHouse4",200,100,40,0,0,-150,1e3),this.createOutHouseWall("outBeforeHouse6",100,200,80,0,-1800,-100,1100),this.createOutHouseWall("outBeforeHouse8",100,200,80,0,-1400,-100,1100),this.createOutHouseWall("outBeforeHouse9",100,100,40,0,-1200,-150,1100),this.createOutHouseWall("outBeforeHouse10",100,200,40,0,-1e3,-100,1100),this.createOutHouseWall("outBeforeHouse12",100,200,80,0,-600,-100,1100),this.createOutHouseWall("outBeforeHouse13",100,100,40,0,-400,-150,1100),this.createOutHouseWall("outBeforeHouse14",100,100,50,0,-200,-150,1100),this.createOutHouseWall("outBeforeHouse15",100,200,40,0,-100,-100,1100),this.createOutHouseWall("outBeforeHouse16",100,200,40,0,0,-100,1100),this.createOutHouseWall("outBeforeHouse17",100,200,40,0,200,-100,1100),this.createOutHouseWall("outBeforeHouse19",100,200,40,0,600,-100,1100),this.createOutHouseWall("outBeforeHouse20",100,200,80,0,800,-100,1100),this.createOutHouseWall("outBeforeHouse21",100,200,100,0,1e3,-100,1100),this.createOutHouseWall("outBeforeHouse23",100,200,100,0,1400,-100,1100),this.createOutHouseWall("outBeforeHouse24",100,200,40,0,1600,-100,1100),this.createOutHouseWall("outBeforeHouse25",100,200,60,0,1800,-100,1100),this.createOutHouseWall("outBeforeHouse26",100,100,40,0,-1800,-150,1200),this.createOutHouseWall("outBeforeHouse27",100,200,60,0,-1600,-100,1200),this.createOutHouseWall("outBeforeHouse28",100,100,60,0,-1400,-150,1200),this.createOutHouseWall("outBeforeHouse30",100,60,40,0,-1e3,-170,1200),this.createOutHouseWall("outBeforeHouse31",100,200,100,0,-800,-100,1200),this.createOutHouseWall("outBeforeHouse32",100,200,80,0,-600,-100,1200),this.createOutHouseWall("outBeforeHouse33",100,200,40,0,-400,-100,1200),this.createOutHouseWall("outBeforeHouse34",100,60,40,0,-200,-170,1200),this.createOutHouseWall("outBeforeHouse36",100,200,40,0,0,-100,1200),this.createOutHouseWall("outBeforeHouse37",100,100,40,0,400,-150,1200),this.createOutHouseWall("outBeforeHouse39",100,100,60,0,800,-150,1200),this.createOutHouseWall("outBeforeHouse40",100,100,40,0,1e3,-150,1200),this.createOutHouseWall("outBeforeHouse41",120,200,40,0,1200,-100,1200),this.createOutHouseWall("outBeforeHouse42",100,100,60,0,1400,-150,1200),this.createOutHouseWall("outBeforeHouse43",100,200,40,0,1600,-100,1200),this.createOutHouseWall("outBeforeHouse44",100,200,40,0,1800,-100,1200),this.createOutHouseWall("outBeforeHouse46",100,200,80,0,-1600,-100,1300),this.createOutHouseWall("outBeforeHouse47",80,100,80,0,-1400,-150,1300),this.createOutHouseWall("outBeforeHouse49",80,100,100,0,-1e3,-150,1300),this.createOutHouseWall("outBeforeHouse50",100,200,40,0,-800,-100,1300),this.createOutHouseWall("outBeforeHouse51",100,200,40,0,-600,-100,1300),this.createOutHouseWall("outBeforeHouse53",100,200,40,0,-200,-100,1300),this.createOutHouseWall("outBeforeHouse54",100,200,60,0,-100,-100,1300),this.createOutHouseWall("outBeforeHouse55",100,200,40,0,0,-100,1300),this.createOutHouseWall("outBeforeHouse56",100,200,100,0,400,-100,1300),this.createOutHouseWall("outBeforeHouse58",100,200,100,0,800,-100,1300),this.createOutHouseWall("outBeforeHouse60",100,200,100,0,1200,-100,1300),this.createOutHouseWall("outBeforeHouse61",100,200,40,0,1400,-100,1300),this.createOutHouseWall("outBeforeHouse62",120,100,80,0,1600,-150,1300),this.createOutHouseWall("outBeforeHouse63",100,200,100,0,1800,-100,1300),this.createOutHouseWall("outBeforeHouse64",100,100,40,0,-1800,-150,1500),this.createOutHouseWall("outBeforeHouse65",100,200,60,0,-1600,-100,1500),this.createOutHouseWall("outBeforeHouse66",100,80,40,0,-1400,-160,1500),this.createOutHouseWall("outBeforeHouse67",100,200,60,0,-1200,-100,1500),this.createOutHouseWall("outBeforeHouse68",100,100,60,0,-1e3,-100,1500),this.createOutHouseWall("outBeforeHouse70",100,200,60,0,-600,-100,1500),this.createOutHouseWall("outBeforeHouse71",100,200,100,0,-400,-100,1500),this.createOutHouseWall("outBeforeHouse72",100,100,100,0,-200,-150,1500),this.createOutHouseWall("outBeforeHouse73",100,200,100,0,-100,-100,1500),this.createOutHouseWall("outBeforeHouse75",100,100,80,0,400,-150,1500),this.createOutHouseWall("outBeforeHouse76",100,200,60,0,600,-100,1500),this.createOutHouseWall("outBeforeHouse77",100,200,100,0,800,-100,1500),this.createOutHouseWall("outBeforeHouse78",100,100,80,0,1e3,-150,1500),this.createOutHouseWall("outBeforeHouse79",100,200,40,0,1200,-100,1500),this.createOutHouseWall("outBeforeHouse80",100,200,40,0,1400,-100,1500),this.createOutHouseWall("outBeforeHouse81",150,200,100,0,1600,-100,1500),this.createOutHouseWall("outBeforeHouse82",100,200,40,0,1800,-100,1500),this.createOutHouseWall("outBeforeHouse84",100,200,50,0,-1600,-100,1600),this.createOutHouseWall("outBeforeHouse85",100,100,40,0,-1400,-150,1600),this.createOutHouseWall("outBeforeHouse86",100,200,100,0,-1200,-100,1600),this.createOutHouseWall("outBeforeHouse88",100,60,40,0,-800,-170,1600),this.createOutHouseWall("outBeforeHouse90",100,200,90,0,-400,-100,1600),this.createOutHouseWall("outBeforeHouse91",100,100,70,0,-200,-150,1600),this.createOutHouseWall("outBeforeHouse92",100,200,40,0,-100,-100,1600),this.createOutHouseWall("outBeforeHouse93",100,200,80,0,0,-100,1600),this.createOutHouseWall("outBeforeHouse94",100,100,40,0,400,-150,1600),this.createOutHouseWall("outBeforeHouse96",100,200,40,0,800,-100,1600),this.createOutHouseWall("outBeforeHouse97",100,100,40,0,1e3,-150,1600),this.createOutHouseWall("outBeforeHouse98",100,200,50,0,1200,-100,1600),this.createOutHouseWall("outBeforeHouse99",120,200,40,0,1400,-100,1600),this.createOutHouseWall("outBeforeHouse99",100,200,60,0,1600,-100,1600),this.createOutHouseWall("outBeforeHouse100",100,200,40,0,1800,-100,1600),this.createOutHouseWall("outBeforeHouse101",100,100,40,0,-1800,-150,1750),this.createOutHouseWall("outBeforeHouse102",100,200,40,0,-1600,-100,1750),this.createOutHouseWall("outBeforeHouse103",100,100,40,0,-1400,-150,1750),this.createOutHouseWall("outBeforeHouse105",100,100,40,0,-100,-150,1750),this.createOutHouseWall("outBeforeHouse106",150,200,80,0,-800,-100,1750),this.createOutHouseWall("outBeforeHouse108",100,200,40,0,-400,-100,1750),this.createOutHouseWall("outBeforeHouse109",170,100,80,0,-200,-150,1750),this.createOutHouseWall("outBeforeHouse110",100,200,40,0,-100,-100,1750),this.createOutHouseWall("outBeforeHouse111",100,200,100,0,0,-100,1750),this.createOutHouseWall("outBeforeHouse112",100,200,40,0,400,-100,1750),this.createOutHouseWall("outBeforeHouse113",100,200,80,0,600,-100,1750),this.createOutHouseWall("outBeforeHouse115",100,100,40,0,1e3,-150,1750),this.createOutHouseWall("outBeforeHouse116",100,200,40,0,1200,-100,1750),this.createOutHouseWall("outBeforeHouse117",100,100,100,0,1400,-150,1750),this.createOutHouseWall("outBeforeHouse118",100,200,40,0,1600,-100,1750),this.createOutHouseWall("outBeforeHouse119",100,200,100,0,1800,-100,1750)},buildMovingCars:function(){var e=this;[[-650,825,0],[150,825,0],[925,100,2.5],[150,-825,5],[-925,-300,7.5]].forEach(function(t){var o=new s.a,a=t[0],i=t[1],u=t[2];o.setPosition(a,-200,i),o.mesh.rotation.y=u*Math.PI,e.cars.push(o),e.scene.add(o.mesh)})},buildStaticCars:function(){var e=this;[[-84,82,1.5],[-58,82,1.5],[-32,82,1.5],[84,82,1.5]].forEach(function(t){var o=new s.a,a=7.1*t[0],i=7.1*t[1],u=t[2];o.setPosition(a,-200,i),o.mesh.rotation.y=u*Math.PI,e.scene.add(o.mesh)})},carMoving:function(e){var t=e.mesh.rotation.y,o=e.mesh.position.x,a=e.mesh.position.z;o<925&&825===a?e.forward():t<.5*Math.PI?e.turnLeft(.5*Math.PI,.1):925===o&&a>-825?e.forward():t<Math.PI?e.turnLeft(.5*Math.PI,.1):o>-925&&-825==a?e.forward():t<1.5*Math.PI?e.turnLeft(.5*Math.PI,.1):-925===o&&a<825?(e.mesh.rotation.y=1.5*Math.PI,e.forward()):t<2*Math.PI?e.turnLeft(.5*Math.PI,.1):(e.setPosition(-925,-200,825),e.mesh.rotation.set(0,0,0))},buildRoad:function(){var e=new THREE.Object3D,t=a.a.makeShape([[-970,870],[970,870],[970,-870],[-970,-870]],[[-859,759],[-859,-759],[859,-759],[859,759]]),o=a.a.makeExtrudeGeometry(t,.1),s=a.a.makeMesh("phong",o,3355443);e.add(s);var i=a.a.makeShape([[-786,655],[-786,-655],[786,-655],[786,655],[95,655],[95,595],[695,595],[695,-595],[-695,-595],[-695,595],[-95,595],[-95,655]]),u=a.a.makeExtrudeGeometry(i,.5),r=a.a.makeMesh("phong",u,16777215);r.rotation.y=Math.PI,e.add(r);for(var n=new THREE.Geometry,l=new THREE.BoxGeometry(50,.3,6),h=new THREE.Geometry,c=0;c<20;c++){var H=l.clone();H.translate(70*c,0,0),h.merge(H)}h.translate(-650,0,800),n.merge(h);var d=h.clone();d.translate(0,0,-1600),n.merge(d);var E=h.clone();E.rotateY(.5*Math.PI),E.translate(100,0,0),n.merge(E);var m=h.clone();m.rotateY(-.5*Math.PI),m.translate(-100,0,0),n.merge(m),n=(new THREE.BufferGeometry).fromGeometry(n);var p=a.a.makeMesh("phong",n,16777215);e.add(p),e.position.y=-200,this.scene.add(e)},buildbuilding:function(){var e,t=this,o=new THREE.Object3D,s=new THREE.BoxBufferGeometry(2e3,6,1800),u=a.a.makeMesh("lambert",s,7368816);function r(){var e=new THREE.Object3D,t=new THREE.BoxBufferGeometry(280,3,140);a.a.makeMesh("lambert",t,16777215).position.y=1;var o=a.a.makeShape([[-110,0],[-110,60],[110,60],[110,0],[-110,0]],[[-105,5],[105,5],[105,55],[-105,55],[-105,5]]),s=a.a.makeExtrudeGeometry(o,190),u=a.a.makeMesh("lambert",s,13481636);e.add(u);var r=a.a.makeShape([[0,0],[50,0],[50,170],[0,170],[0,0]],[[5,5],[45,5],[45,168],[5,168],[5,5]]),n=a.a.makeExtrudeGeometry(r,225),h=a.a.makeMesh("lambert",n,16777215);h.rotation.x=-.5*Math.PI,h.rotation.z=-.5*Math.PI,h.position.y=186,h.position.z=-55,h.position.x=-110,e.add(h);var c=new THREE.PlaneGeometry(40,163,1,1),H=new THREE.MeshPhongMaterial({map:i.a.window()});H.map.repeat.set(2,6);var d=new THREE.Mesh(c,H);d.position.set(112,100,-30),d.rotation.y=.5*Math.PI,e.add(d);var E=l();E.scale.set(.8,.8,1),E.rotation.y=Math.PI,E.position.set(95,170,1);for(var m=0;m<7;m++)for(var p=0;p<6;p++){var f=E.clone();f.position.x-=32*m,f.position.y-=30*p,e.add(f)}var W=l();W.scale.set(.8,.8,1),W.rotation.y=Math.PI,W.position.set(95,170,-61);for(var O=0;O<7;O++)for(var R=0;R<6;R++){var T=W.clone();T.position.x-=32*O,T.position.y-=30*R,e.add(T)}return e}function n(){var e=new THREE.Object3D,t=new THREE.BoxBufferGeometry(280,3,140);a.a.makeMesh("lambert",t,16777215).position.y=1;var o=a.a.makeShape([[-110,0],[-110,60],[110,60],[110,0],[-110,0]],[[-105,5],[105,5],[105,55],[-105,55],[-105,5]]),s=a.a.makeExtrudeGeometry(o,290),u=a.a.makeMesh("lambert",s,13481636);e.add(u);var r=a.a.makeShape([[0,0],[50,0],[50,270],[0,270],[0,0]],[[5,5],[45,5],[45,268],[5,268],[5,5]]),n=a.a.makeExtrudeGeometry(r,225),h=a.a.makeMesh("lambert",n,16777215);h.rotation.x=-.5*Math.PI,h.rotation.z=-.5*Math.PI,h.position.y=286,h.position.z=-55,h.position.x=-110,e.add(h);var c=new THREE.PlaneGeometry(40,263,1,1),H=new THREE.MeshPhongMaterial({map:i.a.window()});H.map.repeat.set(2,10);var d=new THREE.Mesh(c,H);d.position.set(112,150,-30),d.rotation.y=.5*Math.PI,e.add(d);var E=l();E.scale.set(.8,.8,1),E.rotation.y=Math.PI,E.position.set(95,270,1);for(var m=0;m<7;m++)for(var p=0;p<9;p++){var f=E.clone();f.position.x-=32*m,f.position.y-=30*p,e.add(f)}var W=l();W.scale.set(.8,.8,1),W.rotation.y=Math.PI,W.position.set(95,270,-61);for(var O=0;O<7;O++)for(var R=0;R<9;R++){var T=W.clone();T.position.x-=32*O,T.position.y-=30*R,e.add(T)}return e}function l(){var e=new THREE.Object3D,t=new THREE.BoxBufferGeometry(20,20,2),o=a.a.makeMesh("phong",t,6970996);e.add(o);var s=new THREE.BoxBufferGeometry(22,2,2),i=a.a.makeMesh("phong",s,16777215),u=i.clone();u.position.y=10,e.add(u);var r=i.clone();r.position.y=-10,e.add(r);var n=i.clone();n.rotation.z=.5*Math.PI,n.position.x=-10,e.add(n);var l=n.clone();return l.position.x=10,e.add(l),e}u.position.y=-205,o.add(u),this.scene.add(o),function(){var e=function(){var e=new THREE.Object3D,t=new THREE.BoxBufferGeometry(460,3,260),o=a.a.makeMesh("lambert",t,16777215);o.position.y=1,o.position.x=-10,e.add(o);var s=a.a.makeShape([[-180,-60],[-180,50],[80,50],[80,10],[50,-60],[-180,-60]]),u=a.a.makeExtrudeGeometry(s,350),r=new THREE.MeshPhongMaterial({map:i.a.window()});r.map.repeat.set(.03,.03);var n=new THREE.Mesh(u,r);n.castShadow=!0,n.receiveShadow=!0,e.add(n);var l=s,h=a.a.makeExtrudeGeometry(l,5),c=a.a.makeMesh("lambert",h,11642799);c.position.y=350,e.add(c);var H=new THREE.BoxBufferGeometry(320,5,160),d=a.a.makeMesh("lambert",H,10206690);d.position.set(-23,68,30),e.add(d);var E=new THREE.BoxBufferGeometry(320,35,5),m=a.a.makeMesh("phong",E,10206690);m.receiveShadow=!1,m.position.set(-23,84,110),e.add(m);var p=new THREE.BoxBufferGeometry(320,5,5),f=a.a.makeMesh("phong",p,16777215);f.position.set(-23,105,110),e.add(f);var W=a.a.makeShape([[-180,50],[-180,130],[180,130],[180,50],[-180,50]]),O=a.a.makeExtrudeGeometry(W,290);a.a.makeMesh("lambert",O,7115182);return e}();e.position.x=-100,e.position.z=50,e.position.y=-200,e.ID="service",e.name="service",t.scene.add(e);var o=function(){var e=new THREE.Object3D,t=new THREE.BoxBufferGeometry(380,3,140);a.a.makeMesh("lambert",t,16777215).position.y=1;var o=a.a.makeShape([[-180,-60],[-180,50],[80,50],[80,10],[50,-60],[-180,-60]]),s=a.a.makeExtrudeGeometry(o,400),u=new THREE.MeshPhongMaterial({map:i.a.window()});u.map.repeat.set(.05,.03);var r=new THREE.Mesh(s,u);r.castShadow=!0,r.receiveShadow=!0,e.add(r);var n=o,l=a.a.makeExtrudeGeometry(n,5),h=a.a.makeMesh("lambert",l,11642799);return h.position.y=400,e.add(h),e}();o.position.x=-50,o.position.z=-270,o.position.y=-200,o.ID="hdzx",o.name="hdzx",t.scene.add(o)}(),[[-12.5,12.5,1.25],[-7.5,12.5,-.5],[-2.5,12.5,-.5],[2.5,12.5,-.5],[7.5,12.5,-.5],[12.5,12.5,-.25],[15,7.5,0],[15,2.5,0],[15,-2.5,0],[15,-7.5,0],[12.5,-12.5,.25],[7.5,-12.5,.5],[2.5,-12.5,.5],[-2.5,-12.5,.5],[-7.5,-12.5,.5],[-12.5,-12.5,.75],[-15,-7.5,1],[-15,-2.5,1],[-15,2.5,1],[-15,7.5,1]].forEach(function(e){var o=52*e[0],s=52*e[1],i=e[2],u=function(){var e=new THREE.Object3D,t=new THREE.CubeGeometry(2,30,2);t.translate(0,15,0);var o=a.a.makeMesh("phong",t,15454658);e.add(o);var s=new THREE.CubeGeometry(10,1,1),i=a.a.makeMesh("phong",s,2887182);i.position.set(3,30,0),e.add(i);var u=new THREE.CubeGeometry(6,2,4),r=void 0;return(r=a.a.makeMesh("phong",u,15454658)).position.set(10,30,0),e.add(r),e}();u.rotation.y=i*Math.PI,u.position.set(o,-200,s),t.scene.add(u)}),function(){var e=r();e.position.x=270,e.position.z=-20,e.position.y=-200,t.scene.add(e);var o=r();o.position.x=270,o.position.z=-200,o.position.y=-200,t.scene.add(o);var a=r();a.position.x=270,a.position.z=200,a.position.y=-200,t.scene.add(a);var s=r();s.position.x=570,s.position.z=200,s.position.y=-200,t.scene.add(s);var i=r();i.position.x=570,i.position.z=400,i.position.y=-200,t.scene.add(i)}(),function(){var e=n();e.position.x=570,e.position.z=-20,e.position.y=-200,t.scene.add(e);var o=n();o.position.x=570,o.position.z=-200,o.position.y=-200,t.scene.add(o);var a=n();a.position.x=570,a.position.z=-380,a.position.y=-200,t.scene.add(a);var s=n();s.position.x=270,s.position.z=-380,s.position.y=-200,t.scene.add(s);var i=n();i.position.x=-50,i.position.z=-380,i.position.y=-200,t.scene.add(i);var u=n();u.position.x=-550,u.position.z=-380,u.position.y=-200,u.rotateY(-1*Math.PI),t.scene.add(u);var r=n();r.position.x=-550,r.position.z=-180,r.position.y=-200,r.rotateY(-1*Math.PI),t.scene.add(r);var l=n();l.position.x=-550,l.position.z=80,l.position.y=-200,l.rotateY(-1*Math.PI),t.scene.add(l);var h=n();h.position.x=-550,h.position.z=280,h.position.y=-200,h.rotateY(-1*Math.PI),t.scene.add(h);var c=n();c.position.x=-550,c.position.z=480,c.position.y=-200,c.rotateY(-1*Math.PI),t.scene.add(c)}(),(e=function(){var e=new THREE.Object3D,t=new THREE.BoxBufferGeometry(380,3,140);a.a.makeMesh("lambert",t,16777215).position.y=1;var o=a.a.makeShape([[-180,0],[-180,60],[180,60],[180,0],[-180,0]],[[-175,5],[175,5],[175,55],[-175,55],[-175,5]]),s=a.a.makeExtrudeGeometry(o,290),u=a.a.makeMesh("lambert",s,7115182);e.add(u);var r=a.a.makeShape([[0,0],[50,0],[50,270],[0,270],[0,0]],[[5,5],[45,5],[45,268],[5,268],[5,5]]),n=a.a.makeExtrudeGeometry(r,365),h=a.a.makeMesh("lambert",n,16777215);h.rotation.x=-.5*Math.PI,h.rotation.z=-.5*Math.PI,h.position.y=286,h.position.z=-55,h.position.x=-180,e.add(h);var c=new THREE.PlaneGeometry(40,263,1,1),H=new THREE.MeshPhongMaterial({map:i.a.window()});H.map.repeat.set(2,10);var d=new THREE.Mesh(c,H);d.position.set(112,150,-30),d.rotation.y=.5*Math.PI,e.add(d);var E=l();E.scale.set(.8,.8,1),E.rotation.y=Math.PI,E.position.set(135,270,1);for(var m=0;m<7;m++)for(var p=0;p<9;p++){var f=E.clone();f.position.x-=32*m,f.position.y-=30*p,e.add(f)}var W=l();W.scale.set(.8,.8,1),W.rotation.y=Math.PI,W.position.set(155,270,-61);for(var O=0;O<10;O++)for(var R=0;R<9;R++){var T=W.clone();T.position.x-=32*O,T.position.y-=30*R,e.add(T)}return e}()).position.x=-100,e.position.z=0,e.position.y=-200,t.scene.add(e),function(){var e=function(){var e=new THREE.Object3D,t=new THREE.BoxBufferGeometry(280,3,140);a.a.makeMesh("lambert",t,16777215).position.y=1;var o=a.a.makeShape([[-110,0],[-110,60],[110,60],[110,0],[-110,0]],[[-105,5],[105,5],[105,55],[-105,55],[-105,5]]),s=a.a.makeExtrudeGeometry(o,290),u=a.a.makeMesh("lambert",s,7115182);e.add(u);var r=a.a.makeShape([[0,0],[50,0],[50,270],[0,270],[0,0]],[[5,5],[45,5],[45,268],[5,268],[5,5]]),n=a.a.makeExtrudeGeometry(r,225),h=a.a.makeMesh("lambert",n,16777215);h.rotation.x=-.5*Math.PI,h.rotation.z=-.5*Math.PI,h.position.y=286,h.position.z=-55,h.position.x=-110,e.add(h);var c=new THREE.PlaneGeometry(40,263,1,1),H=new THREE.MeshPhongMaterial({map:i.a.window()});H.map.repeat.set(2,10);var d=new THREE.Mesh(c,H);d.position.set(112,150,-30),d.rotation.y=.5*Math.PI,e.add(d);var E=l();E.scale.set(.8,.8,1),E.rotation.y=Math.PI,E.position.set(95,270,1);for(var m=0;m<7;m++)for(var p=0;p<9;p++){var f=E.clone();f.position.x-=32*m,f.position.y-=30*p,e.add(f)}return e}();e.position.x=-340,e.position.z=45,e.position.y=-200,e.rotateY(-.5*Math.PI),t.scene.add(e)}()},addMonitor:function(){var e=this;(new THREE.TextureLoader).load("static/images/sxt_icon.png",function(t){var o=new THREE.BoxGeometry(80,80,2),a=new THREE.MeshBasicMaterial({map:t});a.opacity=1,a.transparent=!0;var s=new THREE.Mesh(o,a);s.position.set(250,-20,430),s.name="sxt",e.scene.add(s)})},addText:function(){var e=this;(new THREE.TextureLoader).load("static/images/text.png",function(t){var o=new THREE.BoxGeometry(150,80,2),a=new THREE.MeshBasicMaterial({map:t});a.opacity=1,a.transparent=!0;var s=new THREE.Mesh(o,a);s.position.set(85,-130,430),s.name="text",e.scene.add(s)})},createText:function(){var e=this;(new THREE.FontLoader).load("static/font/Microsoft YaHei_Regular.json",function(t){var o=new THREE.TextGeometry("爵无锦有",{size:30,height:10,weight:"normal",font:t,style:"normal",bevelThickness:1,bevelSize:1,curveSegments:30,bevelEnabled:!0}),a=new THREE.MeshPhongMaterial({color:16770306,specular:39168,shininess:30,shading:THREE.FlatShading}),s=new THREE.Mesh(o,a);s.castShadow=!0,s.position.x=0,s.position.y=-70,s.position.z=430,s.rotation.x=0,s.rotation.y=2*Math.PI,e.scene.add(s)})},createSpriteText2:function(e,t,o,a){var s=document.createElement("canvas");s.width=256,s.height=128;var i=s.getContext("2d");i.fillStyle="#bbf42f",i.font="Bold 70px Arial",i.lineWidth=4,i.fillText(e,4,104);var u=new THREE.Texture(s);u.needsUpdate=!0;var r=new THREE.SpriteMaterial({map:u}),n=new THREE.Sprite(r);n.scale.set(100,50,150),n.position.set(t,o,a),this.scene.add(n)},createSpriteText3:function(e,t,o,a){var s=document.createElement("canvas");s.width=512,s.height=256;var i=s.getContext("2d");i.fillStyle="#bbf42f",i.font="Bold 100px Arial",i.lineWidth=4,i.fillText(e,4,204);var u=new THREE.Texture(s);u.needsUpdate=!0;var r=new THREE.SpriteMaterial({map:u}),n=new THREE.Sprite(r);n.scale.set(100,50,150),n.position.set(t,o,a),this.scene.add(n)},initText:function(){this.createSpriteText2("1栋",-530,120,480),this.createSpriteText2("2栋",600,20,380),this.createSpriteText2("3栋",300,20,150),this.createSpriteText2("5栋",300,20,-70),this.createSpriteText2("4栋",600,20,150),this.createSpriteText2("6栋",600,120,-70),this.createSpriteText2("8栋",600,120,-270),this.createSpriteText2("9栋",600,120,-450),this.createSpriteText2("10栋",300,120,-450),this.createSpriteText2("11栋",0,120,-450),this.createSpriteText2("7栋",300,20,-250),this.createSpriteText3("群众服务楼",-140,190,30),this.createSpriteText3("活动中心",-100,250,-300),this.createSpriteText2("15栋",-550,120,270),this.createSpriteText2("14栋",-550,120,70),this.createSpriteText2("13栋",-550,120,-160),this.createSpriteText2("12栋",-550,120,-400)},initObject:function(){this.createFloor2(),this.createLayout(),this.createText(),this.initText(),this.addMonitor(),this.addText()},onDocumentMouseMove:function(e){e.preventDefault();var t=new THREE.Vector3;t.set(e.clientX/window.innerWidth*2-1,-e.clientY/window.innerHeight*2+1,.5),t.unproject(this.camera);var o=new THREE.Raycaster(this.camera.position,t.sub(this.camera.position).normalize()).intersectObjects(this.scene.children);if(o.length>0)o[0]},render:function(){this.renderer.render(this.scene,this.camera),this.raycaster.setFromCamera(this.mouse,this.camera);var e=this.raycaster.intersectObjects(this.scene.children);e.length>0?this.INTERSECTED!=e[0].object&&(this.INTERSECTED&&this.INTERSECTED.material.color.setHex(this.INTERSECTED.currentHex),this.INTERSECTED=e[0].object,this.INTERSECTED.currentHex=this.INTERSECTED.material.color.getHex(),this.INTERSECTED.material.color.set(12505700)):(this.INTERSECTED&&this.INTERSECTED.material.color.set(this.INTERSECTED.currentHex),this.INTERSECTED=null)},animate:function(){var e=this;this.cars.forEach(function(t){e.carMoving(t)}),requestAnimationFrame(this.animate),this.renderer.render(this.scene,this.camera),TWEEN.update(),this.update(),this.render()},update:function(){var e=this.clock.getDelta();Math.PI;this.controls.update()},init:function(){this.initScene(),this.initCamera(),this.initRender(),this.initEvent(),this.initControls(),this.initLight(),this.initObject(),this.buildRoad(),this.buildbuilding(),this.buildMovingCars(),this.buildStaticCars()}},components:{}}}).call(t,o("qqHy"))},"991W":function(e,t){},BoGa:function(e,t,o){e.exports=o.p+"static/img/jk.4f8c996.jpg"},HBSQ:function(e,t){},KvKp:function(e,t,o){"use strict";var a={makeShape:function(){var e=void 0;if(window.THREE&&arguments.length){var t=arguments[0];(e=new THREE.Shape).moveTo(t[0][0],t[0][1]);for(var o=1;o<t.length;o++)e.lineTo(t[o][0],t[o][1]);if(arguments.length>1)for(var a=1;a<arguments.length;a++){var s=arguments[a],i=new THREE.Path;i.moveTo(s[0][0],s[0][1]);for(var u=1;u<s.length;u++)i.lineTo(s[u][0],s[u][1]);e.holes.push(i)}return e}console.error("Something wrong!")},makeExtrudeGeometry:function(e,t){var o={steps:1,amount:t,bevelEnabled:!1},a=new THREE.ExtrudeBufferGeometry(e,o);return a.rotateX(-.5*Math.PI),a},makeShapeGeometry:function(e){var t=this.makeShape(e);return new THREE.ShapeGeometry(t)},makeMesh:function(e,t,o){var a=void 0,s=void 0;return"lambert"===e?a=new THREE.MeshLambertMaterial({color:o}):"phong"===e?a=new THREE.MeshPhongMaterial({color:o}):console.error("unrecognized type!"),(s=new THREE.Mesh(t,a)).castShadow=!0,s.receiveShadow=!0,s}};t.a=a},MWXe:function(e,t,o){"use strict"},NHnr:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a={};o.d(a,"increment",function(){return W}),o.d(a,"decrement",function(){return O});var s={};o.d(s,"getCount",function(){return R});o("briU");var i=o("EqYI"),u=(o("qqHy"),o("NxjZ")),r=o.n(u),n=(o("zlkP"),o("7LQH")),l={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("router-view")],1)},staticRenderFns:[]};var h=o("C7Lr")({name:"App"},l,!1,function(e){o("oT63")},null,null).exports;o("lvFc");var c={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"container"},[t("div",{staticClass:"main"},[t("router-view")],1)])},staticRenderFns:[]};var H=o("C7Lr")({data:function(){return{editForm:{id:0,name:"",sex:-1,age:0,birth:"",addr:""},currentPage4:1,labelPosition:"right",filters:{name:"",status:"",position:"",date1:"",date2:""},searchItem:{name:"",id:"",car:"",address:""},users:[],total:0,page:1,listLoading:!1}}},c,!1,function(e){o("+1Ip")},"data-v-1c696b62",null).exports,d=o("8J0x"),E={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("div",{attrs:{id:"container"}}),e._v(" "),a("el-dialog",{attrs:{title:"视频监控",visible:e.dialogFormVisible,"before-close":e.beforeClose},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("div",{staticStyle:{height:"40%"}},[a("img",{staticStyle:{height:"100%",width:"100%"},attrs:{src:o("BoGa")}})])]),e._v(" "),a("el-dialog",{attrs:{title:"寻求帮助",visible:e.dialogFormVisible2,"before-close":e.beforeClose2},on:{"update:visible":function(t){e.dialogFormVisible2=t}}},[a("div",{staticClass:"textBox"},[a("p",[e._v("尊敬的阁下，很高兴为你服务！")]),e._v(" "),a("img",{attrs:{src:o("QiWd")}})])])],1)},staticRenderFns:[]};var m=function(e){o("Ts8U")},p=[{path:"/",component:H,redirect:"/map",children:[{path:"/map",component:o("C7Lr")(d.a,E,!1,m,"data-v-1c061496",null).exports}]}],f=o("2bvH"),W=function(e){(0,e.commit)("INCREMENT")},O=function(e){(0,e.commit)("DECREMENT")},R=function(e){return e.count};i.default.use(f.a);var T=new f.a.Store({actions:a,getters:s,state:{count:10},mutations:{INCREMENT:function(e){e.count++},DECREMENT:function(e){e.count--}}});o("991W"),o("erWL"),o("HBSQ");i.default.use(f.a),i.default.use(r.a),i.default.use(n.a),i.default.filter("formatDate",function(e){var t=new Date(e);return t.getFullYear()+"-"+(t.getMonth()+1<10?"0"+(t.getMonth()+1):t.getMonth()+1)+"-"+(t.getDate()<10?"0"+t.getDate():t.getDate())+" "+(t.getHours()<10?"0"+t.getHours():t.getHours())+":"+(t.getMinutes()<10?"0"+t.getMinutes():t.getMinutes())+":"+(t.getSeconds()<10?"0"+t.getSeconds():t.getSeconds())});var v=new n.a({routes:p});i.default.config.productionTip=!1,new i.default({el:"#app",store:T,router:v,render:function(e){return e(h)}})},QPoP:function(e,t,o){"use strict";var a=o("KvKp"),s=function(e){var t=[2931378,4695808,14024704,556935,3648782,5066061,13532672,14721555,8895710],o=Math.floor(Math.random()*t.length);this.color=e||t[o],this.mesh=new THREE.Object3D,this.wheels=[],this.startAngle=0;var s=this;function i(e){var t=a.a.makeShape(e),o=a.a.makeExtrudeGeometry(t,.1);o.rotateX(.5*Math.PI);var s=a.a.makeMesh("phong",o,0);return s.castShadow=!1,s}!function(){var e=a.a.makeShape([[-13,2],[13,2],[13,8],[5,8],[3,13],[-8,13],[-10,8],[-13,8],[-13,2]]),t=a.a.makeExtrudeGeometry(e,14);t.translate(0,-7,0),t.rotateX(.5*Math.PI);var o=a.a.makeMesh("phong",t,s.color);s.mesh.add(o)}(),function(){var e=new THREE.Object3D,t=new THREE.Object3D,o=i([[-2,8],[4,8],[2.5,12],[-2,12]]);t.add(o);var u=i([[-9,8],[-3,8],[-3,12],[-7.5,12]]);t.add(u),t.position.z=7.1,e.add(t);var r=t.clone();r.position.z=-7.1,e.add(r);var n=new THREE.CubeGeometry(.1,5,12);n.rotateZ(.12*Math.PI),n.translate(4.2,10,0);var l=a.a.makeMesh("phong",n,0);e.add(l);var h=l.clone();h.rotation.z=-.24*Math.PI,h.position.x=-19,h.position.y=6,e.add(h),s.mesh.add(e)}(),function(){var e=new THREE.Geometry,t=new THREE.BoxGeometry(2,2,2);[[12.5,7.1,6.1],[12.5,7.1,-6.1],[-14,7.1,6.1],[-14,7.1,-6.1]].forEach(function(o){var a=o[0],s=o[1],i=o[2],u=t.clone();u.translate(a,s,i),e.merge(u)});var o=t.clone();o.scale(1,1.3,7.1),o.translate(12.1,3.3,0),e.merge(o);var i=o.clone();i.translate(-26,0,0),e.merge(i),e=(new THREE.BufferGeometry).fromGeometry(e);var u=a.a.makeMesh("phong",e,16777215);s.mesh.add(u)}(),function(){var e=u();e.position.set(8,3,-6),s.wheels.push(e),s.mesh.add(e);var t=u();t.position.set(8,3,6),s.wheels.push(t),s.mesh.add(t);var o=u();o.position.set(-8,3,6),s.wheels.push(o),s.mesh.add(o);var i=u();function u(){var e=new THREE.Object3D,t=new THREE.CylinderGeometry(3,3,3,32);t.rotateX(.5*Math.PI);var o=a.a.makeMesh("lambert",t,0);e.add(o);var s=a.a.makeMesh("lambert",t,14540253);s.castShadow=!1,s.scale.set(.8,.8,1.1),e.add(s);var i=new THREE.CylinderGeometry(1,1,3.6,4);i.rotateX(.5*Math.PI);var u=a.a.makeMesh("lambert",i,10987431);return u.castShadow=!1,e.add(u),e}i.position.set(-8,3,-6),s.wheels.push(i),s.mesh.add(i)}()};s.prototype={setPosition:function(e,t,o){this.mesh.position.set(e,t,o)},forward:function(e){e=e||1,this._moving(e,!0)},backward:function(e){e=e||1,this._moving(e,!1)},turnLeft:function(e,t){this._turn(e,!0,t)},turnRight:function(e,t){this._turn(e,!1,t)},_turn:function(e,t,o){if(t=t?1:-1,o){if(this.startAngle<e&&(this.mesh.rotation.y+=o,this.startAngle+=o,e-this.startAngle<o)){var a=this.mesh.rotation.y-this.startAngle;return this.mesh.rotation.y=a+e,void(this.startAngle=0)}}else this.mesh.rotation.y+=e*t},_moving:function(e,t){var o=this.mesh.rotation.y;t=t?1:-1;var a=1*Math.cos(o)*t,s=1*Math.sin(o)*t;this.mesh.position.x+=a,this.mesh.position.z-=s,this._rotateWheels(1)},_rotateWheels:function(e){this.wheels.forEach(function(e){e.rotation.z-=.1})}},t.a=s},QiWd:function(e,t,o){e.exports=o.p+"static/img/wxm.9175ade.jpg"},TDjT:function(e,t,o){"use strict";var a={window:function(){var e=document.createElement("canvas"),t=e.getContext("2d");e.width=32,e.height=32;var o="#3c3443",a="#9d94a7",s="#796e8c";t.fillStyle=o,t.fillRect(0,0,32,32),t.fillStyle=a,t.fillRect(2,2,13,13),t.fillStyle=a,t.fillRect(17,2,13,13),t.fillStyle=s,t.fillRect(2,17,13,13),t.fillStyle=s,t.fillRect(17,17,13,13);var i=new THREE.Texture(e);return i.wrapS=THREE.RepeatWrapping,i.wrapT=THREE.RepeatWrapping,i.needsUpdate=!0,i}};t.a=a},Ts8U:function(e,t){},erWL:function(e,t){},oT63:function(e,t){},zlkP:function(e,t){}},[0]);
//# sourceMappingURL=app.8903abcf23d29a1acc34.js.map